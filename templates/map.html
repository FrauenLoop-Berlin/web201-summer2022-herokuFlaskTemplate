{% extends "layout.html" %}
{% block head %}
  <link rel="stylesheet" href="https://js.arcgis.com/4.24/esri/themes/light/main.css"> 
  <script src="https://js.arcgis.com/4.24/"></script>
  <script src="{{ url_for('static', filename='map.js') }}"></script>
  <script>
    require(["esri/config","esri/Map", "esri/views/MapView", "esri/Graphic",
    "esri/layers/GraphicsLayer", "esri/core/reactiveUtils", "esri/geometry/Circle", "esri/rest/locator"], function (esriConfig,Map, MapView, Graphic, GraphicsLayer, reactiveUtils, Circle, locator) {
      esriConfig.apiKey = "{{map_key}}";
      initMap(esriConfig,Map, MapView, Graphic, GraphicsLayer, reactiveUtils, Circle, locator);
    });
  </script>
{% endblock %}
{% block body %}
  <nav class="navbar navbar-dark bg-dark">
    <span class="navbar-brand mb-0 h1">Navbar</span>
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="nav-link" href="{{ url_for('new_location') }}">New Location</a>
      </li>
    </ul>
    <form method="GET" action="" onsubmit="return searchAddressSubmit()" class="form-inline my-2 my-lg-0">
      <input class="form-control mr-sm-2" id="search_address" type="search" placeholder="Search near..." aria-label="Search near">
      <button class="btn btn-info my-2 my-sm-0" type="submit">Search</button>
    </form>   
  </nav>
  <div id="viewDiv"></div>
{% endblock %}